package com.iskaypet.core;import io.javalin.Javalin;import io.javalin.config.JavalinConfig;import io.javalin.http.Context;import io.reactivex.rxjava3.core.Observable;import java.util.function.Consumer;import java.util.function.Function;public record Server(Javalin javalin) {    public static Server create() {        return create(config -> {            config.useVirtualThreads = true;            config.showJavalinBanner = false;        });    }    public static Server create(Consumer<JavalinConfig> config) {        return new Server(Javalin.create(config));    }    public <T> void get(String path, Function<Context, Observable<T>> handler) {        this.javalin.get(path, RxHttpHandler.intercept(handler));    }    public void start(int port) {        this.javalin.start(port);    }}